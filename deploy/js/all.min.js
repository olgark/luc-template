var MenubarItem=function(e,t){this.menu=t,this.domNode=e,this.popupMenu=!1,this.hasFocus=!1,this.hasHover=!1,this.isMenubarItem=!0,this.keyCode=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40})};MenubarItem.prototype.init=function(){this.domNode.tabIndex=-1,this.domNode.addEventListener("keydown",this.handleKeydown.bind(this)),this.domNode.addEventListener("focus",this.handleFocus.bind(this)),this.domNode.addEventListener("blur",this.handleBlur.bind(this)),this.domNode.addEventListener("mouseover",this.handleMouseover.bind(this)),this.domNode.addEventListener("mouseout",this.handleMouseout.bind(this));var e=this.domNode.nextElementSibling;e&&"UL"===e.tagName&&(this.popupMenu=new PopupMenu(e,this),this.popupMenu.init())},MenubarItem.prototype.handleKeydown=function(e){e.currentTarget;var t,o=e.key,s=!1;switch(e.keyCode){case this.keyCode.SPACE:case this.keyCode.RETURN:case this.keyCode.DOWN:this.popupMenu&&(this.popupMenu.open(),this.popupMenu.setFocusToFirstItem(),s=!0);break;case this.keyCode.LEFT:this.menu.setFocusToPreviousItem(this),s=!0;break;case this.keyCode.RIGHT:this.menu.setFocusToNextItem(this),s=!0;break;case this.keyCode.UP:this.popupMenu&&(this.popupMenu.open(),this.popupMenu.setFocusToLastItem(),s=!0);break;case this.keyCode.HOME:case this.keyCode.PAGEUP:this.menu.setFocusToFirstItem(),s=!0;break;case this.keyCode.END:case this.keyCode.PAGEDOWN:this.menu.setFocusToLastItem(),s=!0;break;case this.keyCode.TAB:case this.keyCode.ESC:this.popupMenu.close(!0);break;default:1===(t=o).length&&t.match(/\S/)&&(this.menu.setFocusByFirstCharacter(this,o),s=!0)}s&&(e.stopPropagation(),e.preventDefault())},MenubarItem.prototype.setExpanded=function(e){e?this.domNode.setAttribute("aria-expanded","true"):this.domNode.setAttribute("aria-expanded","false")},MenubarItem.prototype.handleFocus=function(e){this.menu.hasFocus=!0},MenubarItem.prototype.handleBlur=function(e){this.menu.hasFocus=!1},MenubarItem.prototype.handleMouseover=function(e){this.hasHover=!0,this.popupMenu.open()},MenubarItem.prototype.handleMouseout=function(e){this.hasHover=!1,setTimeout(this.popupMenu.close.bind(this.popupMenu,!1),300)};var Menubar=function(t){var o="Menubar constructor argument menubarNode ";if(!t instanceof Element)throw new TypeError(o+"is not a DOM Element.");if(0===t.childElementCount)throw new Error(o+"has no element children.");for(e=t.firstElementChild;e;){var s=e.firstElementChild;if(e&&s&&"A"!==s.tagName)throw new Error(o+"has child elements are not A elements.");e=e.nextElementSibling}this.isMenubar=!0,this.domNode=t,this.menubarItems=[],this.firstChars=[],this.firstItem=null,this.lastItem=null,this.hasFocus=!1,this.hasHover=!1};Menubar.prototype.init=function(){var e,t,o;for(elem=this.domNode.firstElementChild;elem;){var s=elem.firstElementChild;elem&&s&&"A"===s.tagName&&((e=new MenubarItem(s,this)).init(),this.menubarItems.push(e),t=s.textContent.trim(),this.firstChars.push(t.substring(0,1).toLowerCase())),elem=elem.nextElementSibling}0<(o=this.menubarItems.length)&&(this.firstItem=this.menubarItems[0],this.lastItem=this.menubarItems[o-1]),this.firstItem.domNode.tabIndex=0},Menubar.prototype.setFocusToItem=function(e){for(var t=!1,o=0;o<this.menubarItems.length;o++){var s=this.menubarItems[o];0==s.domNode.tabIndex&&(t="true"===s.domNode.getAttribute("aria-expanded")),s.domNode.tabIndex=-1,s.popupMenu&&s.popupMenu.close()}e.domNode.focus(),e.domNode.tabIndex=0,t&&e.popupMenu&&e.popupMenu.open()},Menubar.prototype.setFocusToFirstItem=function(e){this.setFocusToItem(this.firstItem)},Menubar.prototype.setFocusToLastItem=function(e){this.setFocusToItem(this.lastItem)},Menubar.prototype.setFocusToPreviousItem=function(e){var t;e===this.firstItem?newItem=this.lastItem:(t=this.menubarItems.indexOf(e),newItem=this.menubarItems[t-1]),this.setFocusToItem(newItem)},Menubar.prototype.setFocusToNextItem=function(e){var t;e===this.lastItem?newItem=this.firstItem:(t=this.menubarItems.indexOf(e),newItem=this.menubarItems[t+1]),this.setFocusToItem(newItem)},Menubar.prototype.setFocusByFirstCharacter=function(e,t){var o,s;t=t.toLowerCase(),e.domNode.getAttribute("aria-expanded");(o=this.menubarItems.indexOf(e)+1)===this.menubarItems.length&&(o=0),-1===(s=this.getIndexFirstChars(o,t))&&(s=this.getIndexFirstChars(0,t)),-1<s&&this.setFocusToItem(this.menubarItems[s])},Menubar.prototype.getIndexFirstChars=function(e,t){for(var o=e;o<this.firstChars.length;o++)if(t===this.firstChars[o])return o;return-1};var MenuItem=function(e,t){"object"!=typeof popupObj&&(popupObj=!1),this.domNode=e,this.menu=t,this.popupMenu=!1,this.isMenubarItem=!1,this.keyCode=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40})};MenuItem.prototype.init=function(){this.domNode.tabIndex=-1,this.domNode.addEventListener("keydown",this.handleKeydown.bind(this)),this.domNode.addEventListener("click",this.handleClick.bind(this)),this.domNode.addEventListener("focus",this.handleFocus.bind(this)),this.domNode.addEventListener("blur",this.handleBlur.bind(this)),this.domNode.addEventListener("mouseover",this.handleMouseover.bind(this)),this.domNode.addEventListener("mouseout",this.handleMouseout.bind(this));var e=this.domNode.nextElementSibling;e&&"UL"===e.tagName&&(this.popupMenu=new PopupMenu(e,this),this.popupMenu.init())},MenuItem.prototype.isExpanded=function(){return"true"===this.domNode.getAttribute("aria-expanded")},MenuItem.prototype.handleKeydown=function(e){var t,o,s=e.currentTarget,n=e.key,i=!1;switch(e.keyCode){case this.keyCode.SPACE:case this.keyCode.RETURN:if(this.popupMenu)this.popupMenu.open(),this.popupMenu.setFocusToFirstItem();else{try{t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0})}catch(e){document.createEvent&&(t=document.createEvent("MouseEvents")).initEvent("click",!0,!0)}s.dispatchEvent(t)}i=!0;break;case this.keyCode.UP:this.menu.setFocusToPreviousItem(this),i=!0;break;case this.keyCode.DOWN:this.menu.setFocusToNextItem(this),i=!0;break;case this.keyCode.LEFT:this.menu.setFocusToController("previous",!0),this.menu.close(!0),i=!0;break;case this.keyCode.RIGHT:this.popupMenu?(this.popupMenu.open(),this.popupMenu.setFocusToFirstItem()):(this.menu.setFocusToController("next",!0),this.menu.close(!0)),i=!0;break;case this.keyCode.HOME:case this.keyCode.PAGEUP:this.menu.setFocusToFirstItem(),i=!0;break;case this.keyCode.END:case this.keyCode.PAGEDOWN:this.menu.setFocusToLastItem(),i=!0;break;case this.keyCode.ESC:this.menu.setFocusToController(),this.menu.close(!0),i=!0;break;case this.keyCode.TAB:this.menu.setFocusToController();break;default:1===(o=n).length&&o.match(/\S/)&&(this.menu.setFocusByFirstCharacter(this,n),i=!0)}i&&(e.stopPropagation(),e.preventDefault())},MenuItem.prototype.setExpanded=function(e){e?this.domNode.setAttribute("aria-expanded","true"):this.domNode.setAttribute("aria-expanded","false")},MenuItem.prototype.handleClick=function(e){this.menu.setFocusToController(),this.menu.close(!0)},MenuItem.prototype.handleFocus=function(e){this.menu.hasFocus=!0},MenuItem.prototype.handleBlur=function(e){this.menu.hasFocus=!1,setTimeout(this.menu.close.bind(this.menu,!1),300)},MenuItem.prototype.handleMouseover=function(e){this.menu.hasHover=!0,this.menu.open(),this.popupMenu&&(this.popupMenu.hasHover=!0,this.popupMenu.open())},MenuItem.prototype.handleMouseout=function(e){this.popupMenu&&(this.popupMenu.hasHover=!1,this.popupMenu.close(!0)),this.menu.hasHover=!1,setTimeout(this.menu.close.bind(this.menu,!1),300)};var PopupMenu=function(e,t){var o="PopupMenu constructor argument domNode ";if(!e instanceof Element)throw new TypeError(o+"is not a DOM Element.");if(0===e.childElementCount)throw new Error(o+"has no element children.");for(var s=e.firstElementChild;s;){var n=s.firstElementChild;if(n&&"A"===n)throw new Error(o+"has descendant elements that are not A elements.");s=s.nextElementSibling}this.isMenubar=!1,this.domNode=e,this.controller=t,this.menuitems=[],this.firstChars=[],this.firstItem=null,this.lastItem=null,this.hasFocus=!1,this.hasHover=!1};function openSearch(){document.getElementById("search-overlay").style.display="block"}function closeSearch(){document.getElementById("search-overlay").style.display="none"}function openFooterSearch(){document.getElementById("search-overlay").style.display="block"}function closeFooterSearch(){document.getElementById("search-overlay").style.display="none"}function openNav(){document.getElementById("SideNav").style.width="250px"}function closeNav(){document.getElementById("SideNav").style.width="0px"}PopupMenu.prototype.init=function(){var e,t,o,s,n;for(this.domNode.addEventListener("mouseover",this.handleMouseover.bind(this)),this.domNode.addEventListener("mouseout",this.handleMouseout.bind(this)),e=this.domNode.firstElementChild;e;)(t=e.firstElementChild)&&"A"===t.tagName&&((o=new MenuItem(t,this)).init(),this.menuitems.push(o),s=t.textContent.trim(),this.firstChars.push(s.substring(0,1).toLowerCase())),e=e.nextElementSibling;0<(n=this.menuitems.length)&&(this.firstItem=this.menuitems[0],this.lastItem=this.menuitems[n-1])},PopupMenu.prototype.handleMouseover=function(e){this.hasHover=!0},PopupMenu.prototype.handleMouseout=function(e){this.hasHover=!1,setTimeout(this.close.bind(this,!1),1)},PopupMenu.prototype.setFocusToController=function(e,t){if("string"!=typeof e&&(e=""),""!==e){if(this.controller.isMenubarItem)"previous"===e?this.controller.menu.setFocusToPreviousItem(this.controller,t):"next"===e&&this.controller.menu.setFocusToNextItem(this.controller,t);else if(this.controller.domNode.focus(),this.close(),"next"===e){var o=function(e,t){for(;e;){if(e.isMenubarItem)return e.domNode.focus(),e;t&&e.menu.close(!0),e.hasFocus=!1,e=e.menu.controller}return!1}(this.controller,!1);o&&o.menu.setFocusToNextItem(o,t)}}else this.controller&&this.controller.domNode&&this.controller.domNode.focus()},PopupMenu.prototype.setFocusToFirstItem=function(){this.firstItem.domNode.focus()},PopupMenu.prototype.setFocusToLastItem=function(){this.lastItem.domNode.focus()},PopupMenu.prototype.setFocusToPreviousItem=function(e){var t;e===this.firstItem?this.lastItem.domNode.focus():(t=this.menuitems.indexOf(e),this.menuitems[t-1].domNode.focus())},PopupMenu.prototype.setFocusToNextItem=function(e){var t;e===this.lastItem?this.firstItem.domNode.focus():(t=this.menuitems.indexOf(e),this.menuitems[t+1].domNode.focus())},PopupMenu.prototype.setFocusByFirstCharacter=function(e,t){var o,s;t=t.toLowerCase();(o=this.menuitems.indexOf(e)+1)===this.menuitems.length&&(o=0),-1===(s=this.getIndexFirstChars(o,t))&&(s=this.getIndexFirstChars(0,t)),-1<s&&this.menuitems[s].domNode.focus()},PopupMenu.prototype.getIndexFirstChars=function(e,t){for(var o=e;o<this.firstChars.length;o++)if(t===this.firstChars[o])return o;return-1},PopupMenu.prototype.open=function(){var e=this.controller.domNode.getBoundingClientRect();this.controller.isMenubarItem?(this.domNode.style.display="block",this.domNode.style.position="absolute",this.domNode.style.top=e.height-1+"px"):(this.domNode.parentNode.style.position="relative",this.domNode.style.display="block",this.domNode.style.position="absolute",this.domNode.style.left=e.width+"px"),this.domNode.style.zIndex=100,this.controller.setExpanded(!0)},PopupMenu.prototype.close=function(e){for(var t=this.controller.hasHover,o=this.hasFocus,s=0;s<this.menuitems.length;s++){var n=this.menuitems[s];n.popupMenu&&(o|=n.popupMenu.hasFocus)}this.controller.isMenubarItem||(t=!1),!e&&(o||this.hasHover||t)||(this.domNode.style.display="none",this.domNode.style.zIndex=0,this.controller.setExpanded(!1))},Array.prototype.slice.call(document.querySelectorAll(".Accordion")).forEach(function(u){var a=u.hasAttribute("data-allow-multiple"),n=a||u.hasAttribute("data-allow-toggle"),h=Array.prototype.slice.call(u.querySelectorAll(".Accordion-trigger"));Array.prototype.slice.call(u.querySelectorAll(".Accordion-panel"));if(u.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("Accordion-trigger")){var o="true"==t.getAttribute("aria-expanded"),s=u.querySelector('[aria-expanded="true"]');!a&&s&&s!==t&&(s.setAttribute("aria-expanded","false"),document.getElementById(s.getAttribute("aria-controls")).setAttribute("hidden",""),n||s.removeAttribute("aria-disabled")),o?n&&o&&(t.setAttribute("aria-expanded","false"),document.getElementById(t.getAttribute("aria-controls")).setAttribute("hidden","")):(t.setAttribute("aria-expanded","true"),document.getElementById(t.getAttribute("aria-controls")).removeAttribute("hidden"),n||t.setAttribute("aria-disabled","true")),e.preventDefault()}}),u.addEventListener("keydown",function(e){var t=e.target,o=e.which.toString(),s=(t.getAttribute("aria-expanded"),a||u.hasAttribute("data-allow-toggle"),e.ctrlKey&&o.match(/33|34/));if(t.classList.contains("Accordion-trigger"))if(o.match(/38|40/)||s){var n=h.indexOf(t),i=o.match(/34|40/)?1:-1,r=h.length;h[(n+r+i)%r].focus(),e.preventDefault()}else if(o.match(/35|36/)){switch(o){case"36":h[0].focus();break;case"35":h[h.length-1].focus()}e.preventDefault()}}),u.querySelectorAll(".Accordion-trigger").forEach(function(e){e.addEventListener("focus",function(e){u.classList.add("focus")}),e.addEventListener("blur",function(e){u.classList.remove("focus")})}),!n){var e=u.querySelector('[aria-expanded="true"]');e&&e.setAttribute("aria-disabled","true")}}),$(document).keyup(function(e){27==e.which&&$(".overlay").fadeOut(300)});var input=document.getElementById("SideNavOpen");input.addEventListener("keyup",function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("SideNavOpen").click())});var sideNavEscape="SideNav";window.onkeyup=function(e){27==e.keyCode&&(document.getElementById(sideNavEscape).style.width="0px")};